---
import Icon from '@lib/Icon.astro';
import NeuralGraph from './NeuralGraph/NeuralGraphSVG.tsx';
import Button from '@components/Button.astro';
import Card from '@components/Card.astro';

// Define responsive scales based on breakpoints - we'll pass this to the component
const scales = {
  default: 1,
  sm: 0.9,
  lg: 0.8,
  xl: 0.7,
  _2xl: 0.65
};
---
<!-- needs room for a much wider SVG: allow x-overflow, keep y-hidden -->
<section class="bg-ln-light py-[4rem] overflow-x-clip overflow-y-visible px-gutter">
  <!-- Grid: 1 column on mobile, 2 columns ≥lg -->
  <div
    class="max-w-7xl mx-auto grid gap-16
           lg:grid-cols-[minmax(0,50%)_1fr] lg:items-center">
           
    <!-- ── Column 1 ───────────── -->
    <div class="space-y-6 text-ln-dark">
      <h1 class="text-[3rem] leading-tight font-extrabold">
        Højere produktivitet,<br />
        lavere omkostninger,<br />
        øget profit – <span class="text-ln-accent">med AI.</span>
      </h1>

      <div class="flex gap-4">
        <!-- Outline first, filled second (matches the mockup) -->
        <Button href="#kontakt" variant="primary" className="flex-1">
          Kontakt os
        </Button>
        <Button href="/unikke-losninger" variant="secondary" className="flex-1">
          Unikke løsninger
        </Button>
      </div>      
    </div>

    <!-- ── Column 2 · Neural graph ──────────────────────────────────
         * Contains the neural graph visualization
         * Properly sized to fit the right column                     -->
    <!-- Fluid "stage" that always keeps a responsive aspect-ratio based on breakpoints -->
    <div
      class="
        relative lg:block hidden
        w-[50vw]                       /* Always 50% of viewport width */

        aspect-[1000/700]               /* always 1 : 0.7              */

        overflow-visible -mx-[5vw] xl:-mx-[15vw] translate-x-[26%]">
      <NeuralGraph client:only="react" />
    </div>
  </div>

  <!-- Selling Points -->
  <div class="max-w-7xl mx-auto mt-20 grid grid-cols-1 sm:grid-cols-3 gap-8">
    <Card tight class="hover:shadow-2xl transition-shadow text-left space-y-3">
      <h3 class="font-bold text-heading-md text-ln-dark flex items-center gap-2">
        <Icon name="zap" class="w-6 h-6 text-ln-accent" />
        Højere produktivitet
      </h3>
      <p class="text-body text-ln-dark">
        Automatisér repetitive opgaver én gang med en skræddersyet AI-løsning, og frigør medarbejdernes tid til det, der virkelig skaber værdi.
      </p>
    </Card>

    <Card tight class="hover:shadow-2xl transition-shadow text-left space-y-3">
      <h3 class="font-bold text-heading-md text-ln-dark flex items-center gap-2">
        <Icon name="banknote-arrow-down" class="w-6 h-6 text-ln-accent" />
        Lavere omkostninger
      </h3>
      <p class="text-body text-ln-dark">
        Udnyt AI til at minimere brugen af dyre konsulenttimer. Opnå bedre resultater hurtigere og mere effektivt.
      </p>
    </Card>

    <Card tight class="hover:shadow-2xl transition-shadow text-left space-y-3">
      <h3 class="font-bold text-heading-md text-ln-dark flex items-center gap-2">
        <Icon name="chart-pie" class="w-6 h-6 text-ln-accent" />
        Bedre beslutninger
      </h3>
      <p class="text-body text-ln-dark">
        Lad AI strukturere og analysere kritisk information, så I kan træffe hurtigere, skarpere og mere profitable beslutninger.
      </p>
    </Card>
  </div>
</section>
